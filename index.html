<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rolimon RNG Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 3rem;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientShift 3s ease-in-out infinite;
            margin-bottom: 10px;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .roll-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .roll-display {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 200px;
            margin-bottom: 30px;
        }

        .roll-item {
            text-align: center;
            opacity: 0;
            transform: scale(0.5);
            transition: all 0.5s ease;
        }

        .roll-item.show {
            opacity: 1;
            transform: scale(1);
        }

        .roll-item img {
            width: 120px;
            height: 120px;
            border-radius: 15px;
            margin-bottom: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .roll-item h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: #4ecdc4;
        }

        .roll-item .value {
            font-size: 1.2rem;
            color: #ff6b6b;
            font-weight: bold;
        }

        .roll-button {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            color: white;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .roll-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(255, 107, 107, 0.3);
        }

        .roll-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .rolling {
            animation: rolling 0.5s ease-in-out infinite;
        }

        @keyframes rolling {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(5deg); }
            75% { transform: rotate(-5deg); }
        }

        .inventory-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .inventory-section h2 {
            margin-bottom: 20px;
            color: #4ecdc4;
            font-size: 2rem;
        }

        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
        }

        .inventory-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .inventory-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .inventory-item img {
            width: 80px;
            height: 80px;
            border-radius: 10px;
            margin-bottom: 10px;
        }

        .inventory-item h4 {
            font-size: 0.9rem;
            margin-bottom: 5px;
            color: #ffffff;
        }

        .inventory-item .value {
            font-size: 0.8rem;
            color: #ff6b6b;
            font-weight: bold;
        }

        .items-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .items-section h2 {
            margin-bottom: 20px;
            color: #4ecdc4;
            font-size: 2rem;
        }

        .item-input {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .item-input input {
            flex: 1;
            min-width: 200px;
            padding: 12px;
            border: none;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
        }

        .item-input input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .add-button {
            background: linear-gradient(45deg, #4ecdc4, #45b7d1);
            border: none;
            padding: 12px 20px;
            color: white;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .add-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(78, 205, 196, 0.3);
        }

        .items-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .items-table th,
        .items-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .items-table th {
            background: rgba(255, 255, 255, 0.1);
            font-weight: bold;
            color: #4ecdc4;
        }

        .items-table tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .items-table img {
            width: 40px;
            height: 40px;
            border-radius: 5px;
        }

        .remove-button {
            background: #ff6b6b;
            border: none;
            padding: 5px 10px;
            color: white;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.8rem;
        }

        .remove-button:hover {
            background: #ff5252;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            min-width: 150px;
        }

        .stat-card h3 {
            color: #4ecdc4;
            margin-bottom: 10px;
        }

        .stat-card .value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #ff6b6b;
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #4ecdc4;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .error {
            background: rgba(255, 107, 107, 0.2);
            color: #ff6b6b;
            padding: 10px;
            border-radius: 10px;
            margin: 10px 0;
            border: 1px solid rgba(255, 107, 107, 0.3);
        }

        .success {
            background: rgba(78, 205, 196, 0.2);
            color: #4ecdc4;
            padding: 10px;
            border-radius: 10px;
            margin: 10px 0;
            border: 1px solid rgba(78, 205, 196, 0.3);
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .roll-section {
                padding: 20px;
            }
            
            .item-input {
                flex-direction: column;
            }
            
            .item-input input {
                min-width: auto;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Rolimon RNG</h1>
            <p>Roll for rare Roblox items!</p>
        </div>

        <div class="roll-section">
            <div class="stats">
                <div class="stat-card">
                    <h3>Total Rolls</h3>
                    <div class="value" id="totalRolls">0</div>
                </div>
                <div class="stat-card">
                    <h3>Total Value Won</h3>
                    <div class="value" id="totalValue">0</div>
                </div>
                <div class="stat-card">
                    <h3>Best Item</h3>
                    <div class="value" id="bestItem">None</div>
                </div>
            </div>

            <div class="roll-display" id="rollDisplay">
                <div class="roll-item" id="rollItem">
                    <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDEyMCAxMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiByeD0iMTUiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC4xKSIvPgo8dGV4dCB4PSI2MCIgeT0iNjAiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjUpIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Um9sbCB0byBTdGFydCE8L3RleHQ+Cjwvc3ZnPgo=" alt="Roll to start">
                    <h3>Roll to Start!</h3>
                    <div class="value">Click the button below</div>
                </div>
            </div>

            <div style="text-align: center;">
                <button class="roll-button" id="rollButton" onclick="roll()">ROLL NOW</button>
            </div>
        </div>

        <div class="inventory-section">
            <h2>Your Inventory</h2>
            <div class="inventory-grid" id="inventoryGrid">
                <div style="text-align: center; color: rgba(255,255,255,0.6); padding: 40px;">
                    No items won yet. Start rolling!
                </div>
            </div>
        </div>

        <div class="items-section">
            <h2>Item Database</h2>
            <div id="messageArea"></div>
            <table class="items-table" id="itemsTable">
                <thead>
                    <tr>
                        <th>Image</th>
                        <th>Name</th>
                        <th>Value</th>
                        <th>RAP</th>
                        <th>Chance</th>
                    </tr>
                </thead>
                <tbody id="itemsTableBody">
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // EDIT THIS TABLE TO ADD YOUR ITEMS
        // Add Rolimon item IDs here (one per line)
        const ITEM_IDS = [
            // Example items - replace with your own IDs
            21070012,  
            48545806, 
            1031429,  
            162067148,
            110706539,
            152980413,
            136613436441070,
            152980324,

        ];

        let items = [];
        let inventory = [];
        let totalRolls = 0;
        let totalValue = 0;
        let bestItem = null;

        // CORS proxy for Rolimon API
        const CORS_PROXY = 'https://api.allorigins.win/raw?url=';
        const ROLIMON_API = 'https://www.rolimons.com/api/items';

        // Load items from hardcoded table and localStorage
        async function loadItems() {
            // Load items from hardcoded ITEM_IDS table
            for (const itemId of ITEM_IDS) {
                try {
                    const itemData = await fetchItemData(itemId);
                    const newItem = {
                        id: itemId.toString(),
                        name: itemData.name,
                        value: itemData.value,
                        rap: itemData.rap,
                        image: itemData.image
                    };
                    items.push(newItem);
                } catch (error) {
                    console.log('Failed to load item:', itemId);
                }
            }
            
            updateItemsTable();
            
            const savedInventory = localStorage.getItem('rolimonRngInventory');
            if (savedInventory) {
                inventory = JSON.parse(savedInventory);
                updateInventory();
            }
            
            const savedStats = localStorage.getItem('rolimonRngStats');
            if (savedStats) {
                const stats = JSON.parse(savedStats);
                totalRolls = stats.totalRolls || 0;
                totalValue = stats.totalValue || 0;
                bestItem = stats.bestItem || null;
                updateStats();
            }
        }

        // Save items to localStorage (not needed for hardcoded items, but kept for compatibility)
        function saveItems() {
            // Items are now loaded from hardcoded table, so no need to save
        }

        function saveInventory() {
            localStorage.setItem('rolimonRngInventory', JSON.stringify(inventory));
        }

        function saveStats() {
            localStorage.setItem('rolimonRngStats', JSON.stringify({
                totalRolls,
                totalValue,
                bestItem
            }));
        }

        // Fetch item data from Rolimon
        async function fetchItemData(itemId) {
            try {
                // First try to get from Rolimon API
                const response = await fetch(CORS_PROXY + encodeURIComponent(`${ROLIMON_API}/${itemId}`));
                if (!response.ok) {
                    throw new Error('Failed to fetch from Rolimon API');
                }
                
                const data = await response.json();
                
                // If Rolimon API fails, use fallback data
                if (!data || !data.name) {
                    return {
                        name: `Item ${itemId}`,
                        value: Math.floor(Math.random() * 1000) + 1,
                        rap: Math.floor(Math.random() * 500) + 1,
                        image: `https://www.rolimons.com/itemimages/${itemId}.png`
                    };
                }
                
                return {
                    name: data.name || `Item ${itemId}`,
                    value: data.value || Math.floor(Math.random() * 1000) + 1,
                    rap: data.rap || Math.floor(Math.random() * 500) + 1,
                    image: data.image || `https://www.rolimons.com/itemimages/${itemId}.png`
                };
            } catch (error) {
                console.log('Using fallback data for item:', itemId);
                // Fallback data if API fails
                return {
                    name: `Item ${itemId}`,
                    value: Math.floor(Math.random() * 1000) + 1,
                    rap: Math.floor(Math.random() * 500) + 1,
                    image: `https://www.rolimons.com/itemimages/${itemId}.png`
                };
            }
        }

        // Add item to database (removed - items are now hardcoded)
        // To add items, edit the ITEM_IDS array at the top of the script

        // Show message
        function showMessage(message, type) {
            const messageArea = document.getElementById('messageArea');
            messageArea.innerHTML = `<div class="${type}">${message}</div>`;
            setTimeout(() => {
                messageArea.innerHTML = '';
            }, 3000);
        }

        // Update items table
        function updateItemsTable() {
            const tbody = document.getElementById('itemsTableBody');
            tbody.innerHTML = '';
            
            items.forEach(item => {
                const row = document.createElement('tr');
                const chance = Math.max(1, Math.floor(50 / item.value));
                row.innerHTML = `
                    <td><img src="${item.image}" alt="${item.name}" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iNSIgZmlsbD0icmdiYSgyNTUsMjU1LDIU1LDAuMSkiLz4KPC9zdmc+Cg=='"></td>
                    <td>${item.name}</td>
                    <td>${item.value.toLocaleString()}</td>
                    <td>${item.rap.toLocaleString()}</td>
                    <td>1 in ${chance}</td>
                `;
                tbody.appendChild(row);
            });
        }

        // Remove item from database (removed - items are now hardcoded)
        // To remove items, edit the ITEM_IDS array at the top of the script

        // Roll function
        async function roll() {
            if (items.length === 0) {
                showMessage('Add some items to the database first!', 'error');
                return;
            }
            
            const rollButton = document.getElementById('rollButton');
            const rollItem = document.getElementById('rollItem');
            
            rollButton.disabled = true;
            rollButton.textContent = 'ROLLING...';
            rollItem.classList.add('rolling');
            
            // Simulate rolling animation
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            // Calculate weighted random selection
            const totalWeight = items.reduce((sum, item) => sum + (50 / item.value), 0);
            let random = Math.random() * totalWeight;
            
            let selectedItem = null;
            for (const item of items) {
                const weight = 50 / item.value;
                random -= weight;
                if (random <= 0) {
                    selectedItem = item;
                    break;
                }
            }
            
            // If no item selected (shouldn't happen), pick random
            if (!selectedItem) {
                selectedItem = items[Math.floor(Math.random() * items.length)];
            }
            
            // Update roll display
            rollItem.innerHTML = `
                <img src="${selectedItem.image}" alt="${selectedItem.name}" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDEyMCAxMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiByeD0iMTUiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC4xKSIvPgo8L3N2Zz4K'">
                <h3>${selectedItem.name}</h3>
                <div class="value">Value: ${selectedItem.value.toLocaleString()}</div>
            `;
            
            rollItem.classList.remove('rolling');
            rollItem.classList.add('show');
            
            // Add to inventory
            inventory.push({
                ...selectedItem,
                wonAt: new Date().toISOString()
            });
            
            // Update stats
            totalRolls++;
            totalValue += selectedItem.value;
            
            if (!bestItem || selectedItem.value > bestItem.value) {
                bestItem = selectedItem;
            }
            
            updateInventory();
            updateStats();
            saveInventory();
            saveStats();
            
            // Reset button
            rollButton.disabled = false;
            rollButton.textContent = 'ROLL NOW';
            
            // Hide roll item after 3 seconds
            setTimeout(() => {
                rollItem.classList.remove('show');
                setTimeout(() => {
                    rollItem.innerHTML = `
                        <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDEyMCAxMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiByeD0iMTUiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC4xKSIvPgo8dGV4dCB4PSI2MCIgeT0iNjAiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjUpIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+Um9sbCB0byBTdGFydCE8L3RleHQ+Cjwvc3ZnPgo=" alt="Roll to start">
                        <h3>Roll to Start!</h3>
                        <div class="value">Click the button below</div>
                    `;
                }, 500);
            }, 3000);
        }

        // Update inventory display
        function updateInventory() {
            const inventoryGrid = document.getElementById('inventoryGrid');
            
            if (inventory.length === 0) {
                inventoryGrid.innerHTML = `
                    <div style="text-align: center; color: rgba(255,255,255,0.6); padding: 40px;">
                        No items won yet. Start rolling!
                    </div>
                `;
                return;
            }
            
            inventoryGrid.innerHTML = '';
            
            inventory.forEach(item => {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'inventory-item';
                itemDiv.innerHTML = `
                    <img src="${item.image}" alt="${item.name}" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iMTAiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC4xKSIvPgo8L3N2Zz4K'">
                    <h4>${item.name}</h4>
                    <div class="value">${item.value.toLocaleString()}</div>
                `;
                inventoryGrid.appendChild(itemDiv);
            });
        }

        // Update stats display
        function updateStats() {
            document.getElementById('totalRolls').textContent = totalRolls.toLocaleString();
            document.getElementById('totalValue').textContent = totalValue.toLocaleString();
            document.getElementById('bestItem').textContent = bestItem ? bestItem.name : 'None';
        }

        // Bulk add items (removed - items are now hardcoded)
        // To add items, edit the ITEM_IDS array at the top of the script

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            loadItems();
            
            // Show message if no items in the hardcoded table
            if (items.length === 0) {
                showMessage('No items found! Edit the ITEM_IDS array in the code to add items.', 'error');
            }
        });
    </script>
</body>
</html>
